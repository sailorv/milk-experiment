.wp-block-gallery {
    ul.blocks-gallery-grid {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: row;
        width: 100%;

        li.blocks-gallery-item figure, li.blocks-gallery-item figure img {
            width: 100%;
            height: auto;
        }
    }

    &.columns-3 {
        li.blocks-gallery-item {
            width: 33.33%;
            box-sizing: border-box;
            padding: 0 .5em;
        }
    }
}

.wp-block-gallery.columns-3 li.blocks-gallery-item {
    overflow-x: hidden;
    align-items: stretch;
    flex-direction: column;
    flex-grow: 1;
}

.blocks-gallery-item .gatsby-image-wrapper img {
    height: 100%;
}

.wp-block-gallery ul.blocks-gallery-grid li.blocks-gallery-item figure, .wp-block-gallery ul.blocks-gallery-grid li.blocks-gallery-item figure img {
    height: 100%;
    width: auto;
    display: flex;
    align-items: stretch;
}